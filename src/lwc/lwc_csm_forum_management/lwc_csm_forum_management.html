<template>
    <div class="csm-container">
        <lightning-card title="Reorder Groups"  icon-name="standard:orders">
            <div class="slds-m-horizontal_medium">
                <lightning-combobox name="productList" label="Select Product" value={selectedProduct}
                    placeholder="Choose a product" options={productOptions} onchange={handleProductChange} >
                </lightning-combobox>
                <template if:true={selectedProductGroups}>
                    <ul class="slds-has-dividers_bottom-space slds-m-top_large slds-m-bottom_medium" role="listbox">
                        <template for:each={selectedProductGroups} for:item="group">
                            <li key={group.Id} class="slds-item" draggable="true" ondragstart={handleDragStart}
                                ondragover={handleDragOver} ondrop={handleDrop} data-id={group.Id}>
                                <div class="slds-size_3-of-4 slds-m-bottom_small">
                                    <div class="slds-media slds-media_top">
                                        <div class="slds-media__figure">
                                            <lightning-icon icon-name="utility:drag_and_drop" size="x-small"
                                                alternative-text="Drag and Drop"
                                                class="slds-m-right_medium"></lightning-icon>
                                            <span class="slds-avatar slds-avatar_large image-container">
                                                <img alt={group.Name} src={group.FullPhotoUrl} title={group.Name}
                                                    class="image" />
                                            </span>
                                        </div>
                                        <div class="slds-media__body">
                                            <div class="slds-text-heading_medium">
                                                {group.Name}
                                            </div>
                                            <div class="slds-text-heading_small">{group.Description}</div>
                                        </div>
                                    </div>
                                </div>
                            </li>
                        </template>
                    </ul>
                </template>

                <template if:true={error}>
                    <p class="slds-text-color_error">{error}</p>
                </template>
            </div>
        </lightning-card>
    </div>
</template>