<template>
    <div class="slds-scrollable"
        style="background-color: white; position: relative">
        <template lwc:if={isMultiple}>
            <lightning-file-upload label={label} disabled={isDisabled}
                accept=".xlsx, .xls, .csv, .doc, .docx, .pdf, .msg, .eml"
                onuploadfinished={handleFileUploaded} multiple>
            </lightning-file-upload>
        </template>
        <template lwc:else>
            <lightning-file-upload label={label} disabled={isDisabled}
                accept=".xlsx, .xls, .csv, .doc, .docx, .pdf, .msg, .eml"
                onuploadfinished={handleFileUploaded}>
            </lightning-file-upload>
        </template>
        <template if:true={filesData.length}>
            <span style="font-size: 11px; font-style: italic">Files uploaded:
            </span><br />
            <table
                class="slds-table slds-table_cell-buffer slds-table_header-hidden"
                style="width: 100px">
                <tbody>
                    <template for:each={filesData} for:item="file"
                        for:index="index">
                        <tr class="slds-hint-parent" key={file.id}>
                            <td style="padding-left: 0px">
                                <div class="slds-truncate">{file.title}</div>
                            </td>
                            <td>
                                <div class="slds-truncate">
                                    <button
                                        class="slds-button slds-button_icon slds-cell-edit__button slds-m-left_x-small"
                                        data-id={index} data-index={file.id}
                                        onclick={handleFileDelete}>
                                        <svg class="slds-button__icon"
                                            aria-hidden="true">
                                            <use
                                                xlink:href="/_slds/icons/utility-sprite/svg/symbols.svg#delete"></use>
                                        </svg>
                                    </button>
                                </div>
                            </td>
                        </tr>
                    </template>
                </tbody>
            </table>
        </template>
    </div>
</template>