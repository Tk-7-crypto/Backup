<template>
    <lightning-card title="Approval Matrix" icon-name="standard:budget_allocation">
        <template if:true={showPricingToolOptions}>
            <div class="slds-p-around_medium slds-grid slds-wrap">
                <div class="slds-p-around_x-small slds-size_4-of-12">
                    <lightning-radio-group name="pricingTool"
                        label="Select a pricing option"
                        options={pricingToolOptions}
                        value={selectedPricingToolOption}
                        onchange={handlePricingToolOption}
                        required
                        type="radio">
                    </lightning-radio-group>
                </div>
            </div>
        </template>
        <template if:true={showCountry}>
            <div class="slds-p-around_medium slds-grid slds-wrap">
                <div class="slds-p-around_x-small slds-size_4-of-12">
                    <lightning-combobox
                        name="country"
                        label="Country"
                        value={selectedCountry}
                        placeholder="Select Country"
                        options={countryOptions}
                        required
                        onchange={handleSelectedCountry} >
                    </lightning-combobox>
                </div>
            </div>
        </template>
        <template if:true={showApprovalMatrix}>
            Note: Click refresh button to see changes made in approval matrix
            <lightning-button-icon icon-name="utility:refresh"  variant="brand" size="medium" alternative-text="Refresh" class="slds-m-left_xx-small" title="Refresh" onclick={handleRefresh}></lightning-button-icon>
            <div style="height:400px" class="slds-card slds-scrollable slds-m-top_x-small">
                <lightning-datatable key-field="Id"
                data={approvalMatrixData} 
                columns={columns} 
                hide-checkbox-column 
                onrowaction={handleEditAction}
                show-row-number-column>
                </lightning-datatable>
            </div>
        </template>
        <template if:true={showSpinner}>
            <lightning-spinner alternative-text="Loading"></lightning-spinner>
        </template>
    </lightning-card>
</template>