<template>
    <div data-id="dataTable" class="slds-card slds-card_boundary headerBottomBorder forceRelatedListCardDesktop">
        <div class="slds-grid slds-page-header forceRelatedListCardHeader">
            <header class="slds-media slds-media--center slds-has-flexi-truncate">
                <div aria-hidden="true" class="slds-media__figure stencil slds-avatar slds-avatar_small">
                    <div class="extraSmall forceEntityIcon"><lightning-icon style="background-color: #DCD861" icon-name="standard:approval"></lightning-icon></span></div>
                </div>
                <div class="slds-media__body">
                    <div lwc:if={isFullviewTemp}>
                        <h2 class="slds-card__header-title"><a onclick={clickViewAll} class="slds-card__header-link baseCard__header-title-container"><span title="Quote Requisites Type" class="slds-truncate slds-m-right--xx-small">{quoteRequisiteType}</span><span title={recordCount} class="slds-shrink-none slds-m-right--xx-small">{recordCount}</span></a></h2>
                    </div>
                    <div lwc:else>
                        <h2 class="slds-breadcrumb__item slds-line-height--reset"><a title={recordName} href={recordURL}>{recordName}</a></h2>
                        <h2 class="slds-card__header-title"><span title="Quote Requisites Type" class="slds-m-right--xx-small">{quoteRequisiteType}</span><span title={recordCount} class="slds-shrink-none slds-m-right--xx-small">{recordCount}</span></h2>
                    </div>
                </div>
            </header>
        </div>
        <lightning-spinner if:true={isLoading} alternative-text="Loading"></lightning-spinner>
        <template if:true={isRecordExist} onitemregister={handleItemRegister}>
            <c-lwc-cpq-custom-lightning-datatable key-field="Id"
                data-record="Id"
                data={initialRecords}
                columns={columns}
                onvaluechange={handleValueChange}
                oncellchange={handleCellChange}
                onsave={handleSave}
                draft-values={draftValues}
                onedit={handleEdit}
                oncancel={handleCancel}
                hide-checkbox-column
                show-row-number-column
                hide-table-action>
            </c-lwc-cpq-custom-lightning-datatable>
            <a lwc:if={isFullviewTemp} onclick={clickViewAll}>
                <div class="slds-card__footer"><span class="view-all-label" >{viewLink}<span class="assistiveText">{quoteRequisiteType}</span></span></div>
            </a>
        </template>
    </div>
</template>