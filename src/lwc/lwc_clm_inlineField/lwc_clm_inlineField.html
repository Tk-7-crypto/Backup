<template>
    <div class="slds-form-element slds-form-element_edit slds-form-element_readonly slds-hint-parent form">
        <span class="slds-form-element__label">{labelName}</span>
        <div class="slds-form-element__control">
            <div class="slds-form-element__static">
                <a data-id={id} onmouseenter={handleMouseEnter}
                    onmouseleave={handleMouseLeave} onclick={handleOnClick}
                    class="anchor">{displayName}</a>
            </div>
            <button class="slds-shrink-none slds-button slds-button_icon button"
                title="Edit"
                onclick={openModal}>
                <svg class="slds-button__icon slds-button__icon_hint"
                    aria-hidden="true">
                    <use xlink:href="/_slds/icons/utility-sprite/svg/symbols.svg#edit"></use>
                </svg>
            </button>
        </div>
    </div>
    <template if:true={isFlowOpen}>
        <div class="modal-div">
            <section role="dialog" tabindex="-1"
                class="slds-modal slds-fade-in-open">
                <div class="slds-modal__container slds-align_absolute-center">
                    <header
                        class="slds-modal__header slds-modal__header_empty header-div">
                        <lightning-button-icon icon-name="utility:close"
                            onclick={closeModal}>
                        </lightning-button-icon>
                    </header>
                    <div class="slds-modal__content slds-p-around_medium flow-div">
                        <lightning-flow flow-api-name={flowName}
                            flow-input-variables={inputVariables}>
                        </lightning-flow>
                    </div>
                </div>
            </section>
            <div class="slds-backdrop slds-backdrop_open"></div>
        </div>
    </template>
    <template if:true={isModalOpen}>
        <c-lwc_clm_compact-layout record-id={id} left={left} name={displayName}
            object-name={objectName}
            fields={compactFields}>
        </c-lwc_clm_compact-layout>
    </template>
</template>