<template>
    <div class="slds-box">
        <lightning-card >
            <lightning-layout horizontal-align="spread">
                <lightning-layout-item >
                    <lightning-layout vertical-align="center">
                        <lightning-layout-item flexibility="auto" style="padding: 4px">
                            <lightning-icon icon-name="standard:task" alternative-text="All Tasks" title="All Tasks"></lightning-icon>
                        </lightning-layout-item>
                        <lightning-layout-item flexibility="auto" style="padding: 4px">
                            <div class="slds-text-title_bold">All Tasks</div>
                        </lightning-layout-item>
                    </lightning-layout>
                </lightning-layout-item>
                <lightning-layout-item >
                    <lightning-layout horizontal-align="end">
                        <lightning-layout-item flexibility="auto" style="padding: 12px">
                            <lightning-combobox name="RecordType"
                                        label="Record Type"
                                        value={recordTypeValue}
                                        placeholder="Select Record Type"
                                        options={recordTypeOptions}
                                        onchange={handleRecordTypeChange} 
                                        style="width: 150px;">
                            </lightning-combobox>
                        </lightning-layout-item>
                        <lightning-layout-item flexibility="auto" style="padding: 12px">
                        <lightning-combobox name="TaskType"
                                        label="Tasks"
                                        value={taskListValue}
                                        placeholder="Select Tasks"
                                        options={taskTypeOptions}
                                        onchange={handleTaskListChange} 
                                        style="width: 150px;">
                            </lightning-combobox>
                        </lightning-layout-item>
                    </lightning-layout>
                </lightning-layout-item>
            </lightning-layout>

                <template if:true = {tasks}>
                    
                    <div style="height: 200px;">
    
                        <lightning-datatable key-field="Id"
                                            data={filteredTasks}
                                            columns={columns}
                                            hide-checkbox-column="true"
                                            default-sort-direction={defaultSortDirection}
                                            sorted-direction={sortDirection}
                                            sorted-by={sortedBy}
                                            onsort={onHandleSort}>
                        </lightning-datatable>
    
                    </div>                  
        
                </template>
        
                <template if:true = {error}>
                    <p><br><br>Unexpected error !!!</p> 
                </template>
        </lightning-card>
    </div>
</template>