<template>

<lightning-card title="Project Hierarchy" icon-name="standard:hierarchy">
    <template if:true={error}>
        <div class="slds-p-around_medium">
            <lightning-icon icon-name="utility:error"></lightning-icon>
            <div class="slds-p-around_small">
                <p>{error}</p>
            </div>
        </div>
    </template>

    <div class="slds-is-hovered" >
        <c-lwc_psa_tree-item current-record-id={recordId} items={projectHierarchy}></c-lwc_psa_tree-item>
    </div>
    <!-- menu options to collapse all / expand all tree items -->
    <lightning-button-menu slot="actions" if:true={hasProjectHierarchy} menu-alignment="auto">
        <lightning-menu-item value="collaseAll" label="Collase All" onclick={collapseAll}></lightning-menu-item>
        <lightning-menu-item value="expandAll" label="Expand All" onclick={expandAll}></lightning-menu-item>
        <lightning-menu-item if:false={showClosedForEntry} value="showClosed" label="Show Closed For Entry" onclick={showClosed}></lightning-menu-item>
        <lightning-menu-item if:true={showClosedForEntry} value="hideClosed" label="Hide Closed For Entry" onclick={hideClosed}></lightning-menu-item>
    </lightning-button-menu>
</lightning-card>


</template>