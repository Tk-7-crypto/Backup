<template>
    <template if:true={isLoaded}>
        <div class="exampleHolder">
            <lightning-spinner alternative-text="Loading" size="large" style="z-index: 9999;"></lightning-spinner>
        </div>
    </template>
    <lightning-modal-header label="Add Language">
    </lightning-modal-header>
    <lightning-modal-body>
        <div class="c-container">
            <lightning-layout horizontal-align={horizontalAlign}>
                <lightning-layout-item size="4" padding="around-small">
                    <b>Skill / Certification Rating on Contact</b>
                    <div class="slds-table_edit_container slds-is-relative c-container slds-scrollable">
                        <table class="slds-table slds-table_cell-buffer slds-table_bordered slds-table_col-bordered" >
                            <thead>
                                <tr class="">
                                    <th class="firstCol" scope="col" >
                                        <div class="slds-truncate slds-text-align_left " title="Language">Language</div>
                                    </th>
                                    <th class="firstCol" scope="col" >
                                        <div class="slds-truncate slds-text-align_left " title="Rating">Rating</div>
                                    </th>
                                </tr>
                            </thead>
                            <tbody class="">
                                <template for:each={resourceLanguageList} for:item="skill" for:index="keyIndex">
                                    <tr key={skill.language}>
                                        <th class="" scope="col" key={skill.language} >
                                            <div class="slds-truncate slds-text-align_left " title={skill.language}>{skill.language}</div>
                                        </th>
                                        <th class="" scope="col" key={skill.rating} >
                                            <div class="slds-truncate slds-text-align_left " title={skill.rating}>{skill.rating}</div>
                                        </th>
                                    </tr>
                                </template>
                            </tbody>
                        </table>
                    </div>
                </lightning-layout-item>
                <lightning-layout-item size="4" padding="around-small">
                    <b>Skill / Certification Rating on Assignment</b>  
                    <div class="slds-scrollable_y">
                        <lightning-formatted-rich-text
                            value={langaugeSkills}>
                        </lightning-formatted-rich-text>
                    </div>
                </lightning-layout-item>
                <lightning-layout-item size="4" padding="around-small">
                    <lightning-dual-listbox name="languages"
                                            required
                                            class="selectOptions"
                                            label="Select Languages"
                                            source-label="Available"
                                            selected-label="Selected"
                                            field-level-help="Select your preferred languages"
                                            options={picklistOptions}
                                            value={selectedValue}
                                            onchange={handleValueChange}>
                    </lightning-dual-listbox>
                </lightning-layout-item>
            </lightning-layout>
        </div>
    </lightning-modal-body>
    <lightning-modal-footer>
        <lightning-button
            class="slds-button"
            variant="neutral"
            label="Cancel"
            onclick={handleDismiss}
        ></lightning-button>                
        <lightning-button
            class="slds-button slds-m-left_x-small"
            variant="brand"
            label="Save"
            onclick={handleSave}
        ></lightning-button>
    </lightning-modal-footer>
  </template>
