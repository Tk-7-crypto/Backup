<apex:page controller="CNT_TPA_EarlyExpiryForm"  showHeader="true" sidebar="false" cache="false" id="pg" lightningStylesheets="true" standardStylesheets="false">
    <apex:slds />
    <script type="text/javascript">
    console.log('currentLoggedInUserProfile0::::'+'{!currentUserProfileName}');
    function getUrlVars() {
        var vars = {}, hash;
        var hashes = window.location.href.slice(window.location.href.indexOf('?') + 1).split('&');
        for(var i = 0; i < hashes.length; i++) {
            hash = hashes[i].split('=');
            vars[hash[0]] = hash[1];
        }
        return vars;
    }
    console.log('currentLoggedInUserProfile::::'+'{!currentUserProfileName}');

    var globalBar = document.getElementsByClassName("globalHeaderBar");
    if(globalBar != null) {
        globalBar[0].classList.add("hideGlobalHeader");
    }
    </script>
    <apex:outputPanel rendered="{!IF(currentUserProfileName != 'tpa Profile',True, False)}">
        <html>
            <head>        
                <meta http-equiv="X-UA-Compatible" content="IE=9" />
                <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
                
                <!-- *** Angular-JS Library reference ** -->
                <apex:includeScript value="{!$Resource.AngularJS}"/>
                <!-- *** Angular-JS Library reference ** -->
                
                <!-- *** Angular-JS Bootstrap Modal Pop Up Library reference ** -->
                <script src="{!$Resource.AngularUiBootstrap}" type="text/javascript"></script>
                <!-- *** Angular-JS Bootstrap Modal Pop Up Library reference ** -->
                    
                    <!-- *** Jquery library reference *** -->
                        <script src="{!$Resource.TPAJquery}" type="text/javascript"></script>
                <!-- *** Jquery library reference *** --> 
                
                <script src="{!$Resource.TpaJQueryCookie}" type="text/javascript"></script>
                
                <!-- *** JQuery UI Library reference *** -->
                    <script src="{!$Resource.TPAJqueryUI}" type="text/javascript"></script>
                <!-- *** JQuery UI Library reference *** -->
                <link href="{!URLFOR($Resource.TPAJqueryUICss)}" rel="stylesheet" type="text/css" />  <!-- *** JQuery UI Stylesheet reference *** -->

                
                <!-- *** JQuery Custom Popup Library reference *** -->
                <script src="{!URLFOR($Resource.TPA_ML_JQuery_Cal_Locale, 'datepicker-en-US.js')}" type="text/javascript"></script> <!-- Calendar under ER-1940 english -->
                <script src="{!$Resource.BootstrapJS}" type="text/javascript" /> <!-- *** Bootstrap Javascript Library reference *** -->
                
                
                
                <script src="{!URLFOR($Resource.TpaCustomPopup, 'popup.js')}" type="text/javascript"></script>
                <!-- *** JQuery Custom Popup Library reference *** -->
                    
                    <!-- *** JQuery Custom Popup Stylesheet reference *** -->
                        <link href="{!URLFOR($Resource.TpaCustomPopup, 'popup.css')}" rel="stylesheet" />
                            <!-- *** JQuery Custom Popup Stylesheet reference *** -->
                                
                                <!-- *** Yahoo Javascript Library reference *** -->
                                    <apex:includeScript value="{!URLFOR($Resource.YUILibrary2, '/yui/build/yahoo-dom-event/yahoo-dom-event.js')}" />
                                        <apex:includeScript value="{!URLFOR($Resource.YUILibrary2, '/yui/build/container/container-min.js')}" />
                                            <apex:includescript value="{!URLFOR($Resource.YUILibrary2, '/yui/build/dragdrop/dragdrop-min.js')}" />
                                                <apex:includescript value="{!URLFOR($Resource.YUILibrary2, '/yui/build/animation/animation-min.js')}" />
                                                    <apex:includeScript value="{!URLFOR($Resource.YUILibrary2, '/yui/build/treeview/treeview-min.js')}" /> 
                                                        <apex:includeScript value="{!URLFOR($Resource.YUILibrary2, '/yui/build/menu/menu-min.js')}" />
                                                            <apex:includeScript value="{!URLFOR($Resource.YUILibrary2, '/yui/build/yahoo/yahoo-min.js')}" />
                                                                <!-- *** Yahoo Javascript Library reference *** -->
                                                                    
                                                                    <!-- *** Yahoo Css Library reference *** -->
                                                                        <apex:stylesheet value="{!URLFOR($Resource.YUILibrary2, '/yui/build/assets/skins/sam/skin.css')}" />
                                                                            <apex:stylesheet value="{!URLFOR($Resource.YUILibrary2, '/yui/build/treeview/assets/skins/sam/treeview.css')}" />
                                                                                <apex:stylesheet value="{!URLFOR($Resource.YUILibrary2, '/yui/examples/treeview/assets/css/menu/tree.css')}" />
                                                                                    <apex:stylesheet value="{!URLFOR($Resource.YUILibrary2, '/yui/build/menu/assets/skins/sam/menu.css')}" />
                                                                                        <apex:stylesheet value="{!URLFOR($Resource.YUILibrary2, '/yui/build/container/assets/skins/sam/container.css')}" />
                                                                                            <!-- *** Yahoo Css Library reference *** -->
                                                                                                
                                                                                                <!-- ****** AngularJS script Start ****** -->
                                                                                                    <script type="text/javascript">
                                                                                                        
                                                                                                        <!-- Angular JS Application Name -->
                                                                                                            var myapp = angular.module('TpaAccessRequest', ['ui.bootstrap']);
                
                <!-- Page Controller Start -->
                    /* DATE FORMATS
                    * 	en-US: MM/dd/yyyy
                    *	es-CL: dd-MM-yyyy
                    * 	en-CA: yyyy-MM-dd
                    * 	sv-SE: yyyy-MM-dd HH:MM:ss 
                    */
                    var previousExpirationDate = '';
                    var contrl = myapp.controller('controllerPage',['$scope', '$filter', '$modal', '$log', '$window', function ($scope, $filter, $modal, $log, $window) 
                                                                    {
                                                                        $scope.$log = $log;
                                                                        $scope.tpaRequest = {!ObjectTpaRequest};
                                                                        
                                                                        $scope.AgreementEndDate = formatDate(new Date($scope.tpaRequest.Expiration_Date__c) , 'en-US');
                                                                            previousExpirationDate = new Date($scope.tpaRequest.Expiration_Date__c);
                                                                        previousExpirationDate.setDate(previousExpirationDate.getDate() - 1);
                                                                        
                                                                        $scope.objTpaRequestAgreement = {};
                                                                        
                                                                        //*** Error Flags ***//                        
                                                                        $scope.isError = false;
                                                                        $scope.Acknowlegement1 = false;
                                                                        $scope.Acknowlegement2 = false;
                                                                        $scope.FormValue = {};
                                                                        
                                                                        $scope.FormValue.TodayDate = formatDate(new Date(), 'en-US');
                                                                        $scope.validateClientSubmission = function(){
                                                                            $scope.errorMsg = '';
                                                                            console.log($scope.FormValue);
                                                                            if($scope.FormValue.expiryDate == null || $scope.FormValue.expiryDate == '')
                                                                                $scope.errorMsg += '<li>Please select an earlier expiration date.</li>';

                                                                            if(!$('#checkbox-unique-id-00').is(":checked")){
                                                                                $scope.errorMsg += '<li>Please acknowledge the form.</li>';
                                                                                $scope.Acknowlegement1Error = true;
                                                                            }else{
                                                                                $scope.Acknowlegement1Error = false;
                                                                            }
                                                                            if(!$('#checkbox-unique-id-01').is(":checked")){
                                                                                if(!$scope.errorMsg.includes('Please acknowledge the form')){
                                                                                    $scope.errorMsg += '<li>Please acknowledge the form.</li>';
                                                                                }
                                                                                $scope.Acknowlegement2Error = true;
                                                                            }else{
                                                                                $scope.Acknowlegement2Error = false;
                                                                            }
                                                                            if($scope.FormValue.clientContactFullName == null || $scope.FormValue.clientContactFullName.trim().length == 0){
                                                                                $scope.errorMsg += '<li>Full Name must not be empty.</li>';
                                                                                $scope.clientContactFullNameError = true;
                                                                            }else
                                                                                $scope.clientContactFullNameError = false;
                                                                            
                                                                            if($scope.FormValue.clientContactTitle == null || $scope.FormValue.clientContactTitle.trim().length == 0){
                                                                                $scope.errorMsg += '<li>Title must not be empty.</li>'; 
                                                                                $scope.clientContactTitleError = true;
                                                                            }else
                                                                                $scope.clientContactTitleError = false;
                                                                            
                                                                            if($scope.FormValue.clientContactEmail == null || $scope.FormValue.clientContactEmail.trim().length == 0){
                                                                                $scope.errorMsg += '<li>Email must not be empty.</li>';
                                                                                $scope.clientContactEmailError = true;
                                                                            }else if(!$scope.isValidEmail($scope.FormValue.clientContactEmail)){
                                                                                $scope.errorMsg += '<li>Please enter a valid email.</li>';
                                                                                $scope.FormValue.clientContactEmail = '';
                                                                                $scope.clientContactEmailError = true;
                                                                            }else
                                                                                $scope.clientContactEmailError = false;
                                                                            
                                                                            if($scope.errorMsg.trim().length > 0){
                                                                                $scope.isError = true;
                                                                                $scope.errorMsg = '<ul>' + $scope.errorMsg + '</ul>';
                                                                            }else{
                                                                                $scope.errorMsg = '';
                                                                                $scope.isError = false;
                                                                            }
                                                                            $scope.applyChanges();
                                                                            return $scope.isError;
                                                                        }
                                                                        $scope.isValidEmail = function(sEmail){
                                                                            var filter = /^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/; //Added by Babita Dadarwal under Issue-08272
                                                                            var diacriticscharacterfilter = /([\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+/g;
                                                                            
                                                                            if (filter.test(sEmail) && !diacriticscharacterfilter.test(sEmail)) { 
                                                                                return true;
                                                                            } else
                                                                                return false;
                                                                        }

                                                                        $scope.loadForm = function() {
                                                                            var isPermanentDown = {!isTPAPermanentDown};
                                                                            var portalDownMessage = '{!Message}';
                                                                            $(document).ready(function(){
                                                                                if(isPermanentDown){
                                                                                    $scope.popupAlert(portalDownMessage);
                                                                                    $('.customPopupFooter .aButtons').css("display","none");
                                                                                    $('#backWhiteOverlay').css("display", "");
                                                                                    $('#pageBody').keydown(function(objEvent) {
                                                                                        if (objEvent.keyCode == 9) {  //tab pressed
                                                                                            objEvent.preventDefault(); 
                                                                                        }
                                                                                        if (objEvent.keyCode == 13) {  //enter pressed
                                                                                            objEvent.preventDefault(); 
                                                                                        }
                                                                                    });
                                                                                }
                                                                                $(".datepicker").datepicker({
                                                                                    showOn: "button",
                                                                                    buttonImage: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAALdQTFRFMzMyAAAAMzMyMzMyMzMyMzMyMzMyMzMyMzMyMzMyMzMyMzMyMzMyMzMyMzMyMzMyMzMyMzMyMzMyMzMyMzMyMzMyMzMyMzMyMzMyMzMyMzMyMzMyMzMyMzMyMzMyMzMyMzMyMzMyMzMyMzMyMzMyMzMyMzMyMzMyMzMyMzMyMzMyMzMyMzMyMzMyMzMyMzMyMzMyMzMyMzMyMzMyMzMyMzMyMzMyMzMyMzMyMzMyMzMyMzMy////j2KaIAAAADt0Uk5TAAAEgzuRhtCH6aaF09KLFnt66xoGAwLsBw8Mfnj3GDiBNGyCNW19d/YOHw118hlDmj8UAfAuEBuv9eqZZ685AAAAAWJLR0Q8p2phzwAAAAlwSFlzAAAASAAAAEgARslrPgAAALxJREFUGNM9jIcOgkAQBUcseLZDVzwrKtgL9nr//18qqC+ZvGSy+8Ahm+WHA7l8wXWLxZRCPocqlSvVWq36oVIuKZTGq0P9g4dWNISm33J832n5TaSB0bQ7bbrdpLTBCD3bZzCgb3vIWwQMR2PCkPFoSJCKaMJ0yiRKhTCzcxYL5naWvGiWqzUirFfL76hnN2y3bKyXXMTs9geiiMN+R2xQR06Zb04cFefLNb4FWkQHt/h6OXN/PM0/z8f9BT8gFJGascv+AAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE0LTA4LTA1VDA1OjMwOjQ2LTA0OjAwb0yWxAAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxNC0wOC0wNVQwNTozMDo0Ni0wNDowMB4RLngAAAAASUVORK5CYII=",
                                                                                    buttonImageOnly: true,
                                                                                    dateFormat: 'mm/dd/yy',
                                                                                    changeYear: true,
                                                                                    changeMonth: true,
                                                                                    buttonText: "{!$Label.TPA_click_here_to_open_calendar}",
                                                                                    minDate: new Date(),
                                                                                    maxDate: previousExpirationDate,
                                                                                    onSelect: function(date) {
                                                                                        $scope.FormValue.expiryDate = date;
                                                                                        $scope.$apply();
                                                                                    }
                                                                                });
                                                                                
                                                                                $( ".datepicker" ).datepicker( "option", $.datepicker.regional['us']); 
                                                                            });
                                                                            
                                                                            if(getParameterByName('id').trim().length > 0){
                                                                                $scope.objTpaRequestAgreement = {!ObjectTpaRequest};
                                                                                if($scope.objTpaRequestAgreement == null)
                                                                                    return false;
                                                                            }
                                                                        }                        
                                                                        
                                                                        $scope.postSubmitActivity = function(redirectionURL){
                                                                            var q = encodeURIComponent(redirectionURL);
                                                                            var uri_dec = decodeURIComponent(redirectionURL);
                                                                            $scope.$log.info('redirectionURL: ' + redirectionURL); 
                                                                            window.location.href = uri_dec;
                                                                        }
                                                                        $scope.clientSubmit = function(){
                                                                            $scope.applyChanges();
                                                                            if($scope.validateClientSubmission())
                                                                                return false;
                                                                            console.log('here');
                                                                            $scope.tpaRequest.Early_Expiry_Requestor_Email__c = $scope.FormValue.clientContactEmail;
                                                                            $scope.tpaRequest.Early_Expiry_Requestor_Name__c = $scope.FormValue.clientContactFullName;
                                                                            $scope.tpaRequest.Early_Expiry_Requestor_Title__c = $scope.FormValue.clientContactTitle;
                                                                            $scope.tpaRequest.Client_Expired_Early__c = true;
                                                                            $scope.tpaRequest.Client_Set_Earlier_Expiry_Date__c = formatDate(new Date($scope.FormValue.expiryDate),'sv-SE');
                                                                            $scope.tpaRequest.Expiration_Date__c = formatDate(new Date($scope.FormValue.expiryDate),'sv-SE');
                                                                            $scope.tpaRequest.Early_Expiry_Acknowledgement_Date__c = formatDate(new Date(), 'sv-SE');
                                                                            
                                                                            console.log('Client_Set_Earlier_Expiry_Date__c ' + $scope.tpaRequest.Client_Set_Earlier_Expiry_Date__c);
                                                                            console.log('Expiration_Date__c ' +$scope.tpaRequest.Expiration_Date__c);

                                                                            console.log('1 ' + formatDate(new Date($scope.FormValue.expiryDate),'sv-SE'));
                                                                            CNT_TPA_EarlyExpiryForm.onClientSubmission(formatDate(new Date($scope.FormValue.expiryDate),'sv-SE'), JSON.stringify($scope.tpaRequest), function(result, event){
                                                                                $scope.$log.warn(result);
                                                                                if(event != 'exception'){    
                                                                                    onActionComplete(); 
                                                                                    $scope.$log.info('Error: ' + event.message);
                                                                                    $scope.submitStatus = 'error';
                                                                                    return false;                                    
                                                                                }else{
                                                                                    consoole.log('Success - ' + result)
                                                                                }
                                                                            })
                                                                            hideLoading();
                                                                            $scope.popupAlert('{!$Label.TPA_Client_Offering_Notification_Acknowlegement_Popup}'.split(',')[0], function(){ 
                                                                                showLoading();
                                                                                $scope.postSubmitActivity('/VFP_TPA_Page_Status?type=successeeack');
                                                                            })    
                                                                        }
                                                                        $scope.isError = false;
                                                                        $scope.errorMsg = '';
                                                                        
                                                                        //*** function triggers and applies all angular scope changes explicitly ***//
                                                                        $scope.applyChanges = function()
                                                                        {
                                                                            if ($scope.$root.$$phase != '$apply' && $scope.$root.$$phase != '$digest')
                                                                                $scope.$apply();
                                                                        }
                                                                        //****** Angular Apply All Changes Event End ******//
                                                                        $scope.renderBootstrapTooltip = function()
                                                                        {
                                                                            applyBootstrapTooltip('right', '.rightTooltip');
                                                                            applyBootstrapTooltip('left', '.leftTooltip');
                                                                            applyBootstrapTooltip('bottom', '.bottomTooltip');
                                                                            applyBootstrapTooltip('top', '.topTooltip');
                                                                        } 
                                                                        
                                                                        //****** Utility Events Start ******//
                                                                        
                                                                        $scope.popupAlert = function(msg, truePart)
                                                                        {
                                                                            popup(msg, {'animate':true}, 
                                                                                  function(r)
                                                                                  {
                                                                                      if(r && truePart != null)
                                                                                          truePart();
                                                                                  });
                                                                        }
                                                                        //****** Utility Events End ******//
                                                                        $scope.loadForm();
                                                                    }]);

                $(document).ready(function() {
                    document.getElementById("request-name").innerHTML = '{!tpaRequest.Name}';
                    document.getElementById("request-name-footer").innerHTML = '{!tpaRequest.Name}';
                 })
                var formatDate = function(dateInput, locale){
                    if(dateInput == null)
                        return null;
                    console.log(dateInput.toLocaleDateString(locale, {month:'2-digit',day:'2-digit',year:'numeric'}));
                    return dateInput.toLocaleDateString(locale, {month:'2-digit',day:'2-digit',year:'numeric'})
                        
               }
                <!-- Page Controller End -->
                    //*** function to read Query strings Start ***//
                    function getParameterByName(name){
                        name = name.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
                        var regex = new RegExp("[\\?&]" + name + "=([^&#]*)"), results = regex.exec(location.search);
                        return results == null ? "" : results[1].replace(/\+/g, " ");
                    }
                //*** function to read Query strings End ***//
                
                //*** Wait Panel Start ***//
                // Create a namespace for our custom functions
                YAHOO.namespace("force.com");
                YAHOO.force.com.buildWaitPanel = function() {
                    document.body.className = document.body.className + " yui-skin-sam";
                    YAHOO.force.com.waitPanel = new YAHOO.widget.Panel(
                        "waitPanel",  // The id of our dialog container
                        { 
                            width           :   "300px", // You can play with this until it is right
                            visible         :   false,   // Should be invisible when rendered
                            draggable       :   false,   // Make the dialog draggable
                            close           :   false,   // Do not include a close title button
                            modal           :   true,    // Make it modal
                            fixedCenter     :   true,    // Keep centered if window is scrolled
                            zindex          :   40,      // Make sure it is on top of everything
                            constraintoviewport: true,
                            
                            // This line adds the appear/disapper fade effect
                            effect          :   {effect:YAHOO.widget.ContainerEffect.FADE,duration:0.25}
                        });
                    
                    // header
                    YAHOO.force.com.waitPanel.setHeader("Please wait...");
                    // set image
                    YAHOO.force.com.waitPanel.setBody('<center><img src="{!URLFOR($Resource.Image_LoadingPage)}" /></center>');
                    // Render the dialog to the document.body level of the DOM
                    YAHOO.force.com.waitPanel.render(document.body);
                }
                
                /**
                * Callback when the action button is clicked
                */
                function onActionClick() 
                {
                    // show the modal panel
                    if(YAHOO.force.com.waitPanel != null)
                        YAHOO.force.com.waitPanel.show();
                    // return false to allow the action to proceed
                    return false;
                }
                
                /**
                 * Callback when the action is completed
                 */
                function onActionComplete() 
                {
                    if(YAHOO.force.com.waitPanel != null)
                        YAHOO.force.com.waitPanel.hide();
                    window.scrollTo(0,0);
                }
                
                YAHOO.force.com.onDOMReady = function() 
                {
                    // add our custom skin css to the body tag
                    document.body.className = document.body.className + " yui-skin-sam";  
                    
                    // build the wait panel
                    YAHOO.force.com.buildWaitPanel();
                }
                
                // build the tree as soon as the DOM is in a usable state
                YAHOO.util.Event.onDOMReady(YAHOO.force.com.onDOMReady); 
                //*** Wait Panel End ***//
                
                </script>
                <!-- ****** AngularJS script End ****** -->
                <style type="text/css">
                    .hideGlobalHeader{
                    	display: none !important;
                    }
                    .boxStyle{
                        background-color:var(--slds-g-color-brand-base-50);
                        color: var(--slds-g-color-neutral-base-100);
                        padding: 0.5rem;
                    }
                    .errStyle{
                    	border: 2px solid #c00 !important;
                    }
                    .modal{
                    	display: none;
                    }
                </style>
            </head>
            <body id="pageBody" oncontextmenu="return false;" style="background-image: url(/_slds/images/themes/lightning_blue/lightning_blue_background.png),linear-gradient(to top, rgba(160, 180, 206, 0.0) 0, rgba(160, 180, 206, 1.0)); background-repeat: no-repeat; min-height: 100vh">
                <div id="backWhiteOverlay" style="position:absolute;z-index:10000 !important;width:100%;height:100%;display:none;"></div>
                <apex:form styleclass="slds-m-around_x-large">
                    <div id="ng-app" ng-app="TpaAccessRequest" class="slds-p-around_small"> 
                        <div id="controllerPage" ng-controller="controllerPage">
                            <c:VFC_TPA_LoadingImage />
                            <!-- Error Message Box Start -->
                            <div ng-show="isError" class="slds-theme_error" role="alert" style="display:none;">
                                <div class="message errorM3 slds-notify__content " role="alert">
                                    <div class="slds-grid slds-grid_vertical slds-size_1-of-1 slds-p-around_small">
                                        <div class="slds-col">
                                            <div class="slds-grid">
                                                <div class="slds-col slds-size_1-of-3"></div>
                                                <div class="slds-col slds-size_1-of-3">
                                                    <h2 class="slds-text-heading_small">
                                                        <div class="messageText">
                                                            <span><h4>Error</h4></span>
                                                        </div>
                                                    </h2>
                                                </div>
                                                <div class="slds-col slds-size_1-of-3"></div>
                                            </div>
                                        </div>
                                        <div class="slds-col">
                                            <div class="slds-grid">
                                                <div class="slds-col slds-size_1-of-5"></div>
                                                <div class="slds-col slds-size_1-of-5"></div>
                                                <div class="slds-col slds-size_1-of-5">
                                                    <ul>
                                                        <li><span ng-bind-html-unsafe="errorMsg"></span></li>
                                                    </ul>
                                                </div>
                                                <div class="slds-col slds-size_1-of-5"></div>
                                                <div class="slds-col slds-size_1-of-5"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- Error Message Box End -->
                            
                            
                            <div> 
                                <div class="slds-clearfix">
                                    <div class="slds-float_right" style = 'width:30%'>
                                        <img src="{!IMSLogo}" />
                                    </div>
                                </div>
                                <div class = 'slds-box' style = 'padding:2px; background-color:var(--slds-g-color-brand-base-50)'></div>
                                <strong>{!$Label.TPA_EEF_Header_Text}</strong> 
                                <br/>
                                <br/>
                                <p class="slds-p-vertical_small">
                                    <strong>{!tpaRequest.Name} {!$Label.TPA_Request_Details}</strong><br/>
                                    {!$Label.TPA_Third_Party_Vendor_Company}: {! tpaRequest.Global_Brand_Company_Name__c}<br/>
                                    {!$Label.TPA_Client_Project_Name}: {!tpaRequest.Client_Project_Name__c}<br/>
                                    {!$Label.TPA_Original_TPA_Agreement_End_Date}: {{AgreementEndDate}}
                                </p>
                                
                                <p class="slds-p-bottom_small">{!$Label.TPA_EEF_Description}</p>
                                
                                <div class="slds-box boxStyle" style = 'padding:0.5rem;' >{!$Label.TPA_EEF_Provide_Expedited_Expiration_Date}</div>
                                
                                <p class="slds-p-left_large ">{!$Label.TPA_EEF_Date_Validation_label} </p> 
                                
                                <p class="slds-p-left_large">
                                    <input type = "text" class="datepicker"  placeholder= 'MM/DD/YYYY'/>
                                </p>
                                <div class = "slds-p-bottom_medium slds-p-left_large">{!$Label.TPA_EEF_Date_HelpText} {{AgreementEndDate}}</div>
                                
                                <div class="slds-box boxStyle" style = 'padding:0.5rem;' >{!$Label.TPA_EEF_Acknowledge_Your_Requested_Change}</div>
                                
                                <div class="slds-form-element slds-p-left_large slds-p-top_large">
                                    
                                    <div class="slds-form-element__control">
                                        <div class="slds-checkbox">
                                            <abbr class="slds-required" title="required">*</abbr>
                                            <input type="checkbox" name="options" id="checkbox-unique-id-00" />
                                            <label class="slds-checkbox__label" for="checkbox-unique-id-00">
                                                <span class="slds-checkbox_faux" ng-class="{'errStyle':Acknowlegement1Error,'':!Acknowlegement1Error}"></span>
                                                <span class="slds-form-element__label"><apex:outputText escape="false" value="{!$Label.TPA_EEF_Acknowledgement1}"/> {{FormValue.expiryDate}} </span>
                                            </label>
                                        </div>
                                        <div class="slds-checkbox">
                                            <abbr class="slds-required" title="required">*</abbr>
                                            <input type="checkbox" name="options" id="checkbox-unique-id-01"/>
                                            <label class="slds-checkbox__label" for="checkbox-unique-id-01">
                                                <span class="slds-checkbox_faux" ng-class="{'errStyle':Acknowlegement2Error,'':!Acknowlegement2Error}"></span>
                                                <span class="slds-form-element__label"><apex:outputText escape="false" value="{!$Label.TPA_EEF_Acknowledgement2}"/>  {{FormValue.expiryDate}}</span>
                                            </label>
                                        </div>
                                    </div>
                                </div>
                                <div style = 'padding:0.5rem;'></div>
                                <div class = 'slds-grid slds-gutter slds-p-vertical_small'>
                                    <div class = 'slds-grid  slds-col slds-size_1-of-2'>
                                        <div class = 'sld-col slds-size_1-of-4'>
                                            <abbr class="slds-required" title="required">* </abbr>
                                            <strong><apex:outputLabel value="{!$Label.TPA_First_and_Last_Name}:"/></strong>
                                        </div>
                                        <div class="slds-col slds-size_2-of-4">
                                            <input class="slds-input" type="text" maxlength="255" ng-model="FormValue.clientContactFullName" ng-class="{'errStyle':clientContactFullNameError,'':!clientContactFullNameError}" />
                                        </div>
                                    </div>
                                    <div class = 'slds-grid slds-col slds-size_1-of-2'>
                                        <div class = 'slds-col slds-size_1-of-6'>
                                            <abbr class="slds-required" title="required">* </abbr>
                                            <strong><apex:outputLabel value="{!$Label.TPA_Title}:"/></strong>
                                        </div>
                                        <div class="slds-col slds-size_2-of-4">
                                            <input class="slds-input" type="text" maxlength="255" ng-model="FormValue.clientContactTitle" ng-class="{'errStyle':clientContactTitleError,'':!clientContactTitleError}" />
                                        </div>
                                    </div>
                                </div>
                                <div class= 'slds-grid slds-p-vertical_small'>
                                    <div class = 'slds-col slds-size_1-of-8'>
                                        <abbr class="slds-required" title="required">* </abbr>
                                        <strong><apex:outputLabel value="{!$Label.TPA_Email_Address}:"/></strong>
                                    </div>
                                    <div class="slds-col slds-size_2-of-8">
                                        <input class="slds-input" type="text" maxlength="255" ng-model="FormValue.clientContactEmail" ng-class="{'errStyle':clientContactEmailError,'':!clientContactEmailError}" />
                                    </div>
                                </div>
                                 <div class= 'slds-grid slds-p-vertical_small'>
                                    <div class = 'slds-col slds-size_3-of-8'>
                                        <abbr class="slds-required" title="required">* </abbr>
                                        <strong><apex:outputLabel value="{!$Label.TPA_Date_Acknowledgement_Received}:"/> {{FormValue.TodayDate}} </strong>
                                    </div>
                                    <div class="slds-col slds-size_2-of-8"></div>
                                </div>
                                <p class = 'slds-p-vertical_small'>
                                    <apex:outputText escape="false" value="{!$Label.TPA_EEF_Footer_text}"/>  <br/><br/> {!$Label.TPA_Thank_You_greeting}
                                </p>                               
                                <p class="slds-p-vertical_small">
                                    <button class=" slds-align_absolute-center slds-button slds-button_brand"  onclick="return false;" ng-click="clientSubmit();">{!$Label.TPA_Submit}</button>
                                </p>
                            </div>
                        </div>
                    </div>
                </apex:form>
            </body>
        </html>
    </apex:outputPanel>
</apex:page>